# Product Development Process v2.0

A quality-gated, AI-native process for building features from idea to production. Built for Cursor AI agents with slash commands, PRD verification, and real-time visibility.

## Overview

Four phases, clear ownership, slash command execution:

```
PM creates & verifies â†’ Dev builds & tests â†’ Team releases & documents
```

| Phase | Command | Owner | What Happens |
|-------|---------|-------|--------------|
| **Create** | `/create "description" @backlog.md` | PM | Define â†’ Verify â†’ Extract Features â†’ PRD approved |
| **Verify** | `/verify US-{ID}` | PM | Quality check existing PRD (optional standalone) |
| **Dev** | `/dev US-{ID}` | Developer | Kickoff â†’ Code â†’ Test â†’ PR ready |
| **Release** | `/release US-{ID}` | Team | Review â†’ Merge â†’ Deploy â†’ Document â†’ Shipped! ðŸš€ |

---

## What's New in v2.0

| Feature | Description |
|---------|-------------|
| **Slash Commands** | `/create`, `/verify`, `/dev`, `/release` work in Cursor |
| **PRD Verification** | Automated gap analysis before approval |
| **Feature Extraction** | MoSCoW-prioritized features generated from PRD |
| **RULES.md** | Project-level technical standards for AI consistency |
| **Dashboard Metadata** | YAML frontmatter enables visibility dashboard |
| **Resumable Workflows** | `/dev` detects and continues previous work |

---

## Workspace Setup

Your Cursor workspace needs **two folders**:

1. **product-docs** â€” PRDs, backlogs, process, RULES.md (PM-managed)
2. **dev repo** (e.g., `my-app`) â€” code, tests, docs (dev-managed)

**Setup:** Open the `.code-workspace` file generated by `prd init` â€” both folders are pre-configured.

---

## Repository Structure

### product-docs repo:
```
product-docs/
â”œâ”€â”€ PROCESS.md              # This file
â”œâ”€â”€ README.md               # Project registry + next story ID
â””â”€â”€ {project-name}/
    â”œâ”€â”€ backlog.md          # Project backlog
    â”œâ”€â”€ RULES.md            # Technical standards (NEW)
    â””â”€â”€ US-XXX.md           # Story files (with YAML metadata)
```

### dev repo:
```
{project-name}/
â”œâ”€â”€ src/                    # Source code
â”œâ”€â”€ tests/                  # Tests
â”œâ”€â”€ CHANGELOG.md            # Shipped changes
â””â”€â”€ README.md               # Setup instructions
```

---

## PRD Metadata Format

All PRDs must include YAML frontmatter for dashboard visibility:

```yaml
---
id: US-027
project: {project-name}
status: create | approved | dev | done
phase: planning | development | testing | review | deployed
progress: 0-100
ac_total: 7
ac_complete: 0
verified: true | false | skipped
created: 2026-02-03
updated: 2026-02-03
branch: feature/US-027-slug
pr: 123
dependencies: [US-019, US-020]
blockers: []
---
```

| Field | Values | Description |
|-------|--------|-------------|
| `status` | create, approved, dev, done | Current workflow status |
| `phase` | planning, development, testing, review, deployed | Detailed phase within status |
| `progress` | 0-100 | Percentage complete (AC or task based) |
| `verified` | true, false, skipped | PRD passed verification |
| `blockers` | [] or list | Issues blocking progress |

---

## Story Referencing

Use `@` tags in Cursor chat:
- `@US-027.md` â€” finds the story automatically
- `@{project-name}/backlog.md` â€” project backlog
- `@{project-name}/RULES.md` â€” technical standards
- `@README.md` â€” project registry

---

## The Four Phases

### Phase 1: /create

**Owner:** Product Manager  
**Goal:** Verified, approved PRD with extracted features

**Usage:**
```
/create "Add email notifications for users" @{project-name}/backlog.md
```

**Workflow:**

```
Initialize â†’ Refine Requirements â†’ Verify PRD â†’ Extract Features â†’ Approve
```

#### Step 1: Initialize Story
- Read `@README.md` for next ID (e.g., US-027)
- Create `{project}/US-027.md` with metadata template
- Add entry to `{project}/backlog.md`
- Increment ID in `README.md`

#### Step 2: Refine Requirements (Interactive)

Agent asks questions in batches:

**Batch 1 - Problem & Users:**
- What problem does this solve?
- Who are the target users?
- What's the current workaround?

**Batch 2 - Scope & Behavior:**
- What are the acceptance criteria?
- What's out of scope? (Non-Goals)
- Any constraints? (performance, security)

**Batch 3 - Edge Cases & NFRs:**
- Edge cases to handle?
- Non-functional requirements?
- Dependencies on other stories?

PM can say `refine [section]` or `add [detail]` to iterate.

#### Step 3: Verify PRD (Quality Gate)

Agent runs automated verification:

```
ðŸ“‹ PRD Verification Results

âœ… Passed: 8 checks
âš ï¸ Gaps Found: 3 items

ðŸ”´ High Priority:
1. AC2 is not testable â†’ Add specific condition

ðŸŸ¡ Medium Priority:
1. Missing error handling for network failure

Options:
- `apply` - Apply suggested fixes
- `manual` - I'll fix manually
- `skip` - Proceed without fixing
```

PM must acknowledge verification before proceeding.

#### Step 4: Extract Features

After verification approved, agent extracts:

```markdown
## Features (from US-027)

| ID | Feature | Priority | Complexity |
|----|---------|----------|------------|
| F1 | Email template | Must | Medium |
| F2 | User preferences | Should | Low |
| F3 | Retry logic | Could | High |
```

Generates â‰¤8 dev tasks from features.

#### Step 5: Approve

PM types `approve`:

```
âœ… US-027 approved and committed!

ðŸ“Š Summary:
- AC: 7 defined
- Features: 5 extracted
- Dev Tasks: 6 planned

ðŸš€ Ready for: /dev US-027
```

**Exit Criteria:**
- PRD verified (or explicitly skipped)
- Features extracted with priorities
- Dev tasks generated
- Committed to product-docs

---

### Phase 2: /verify (Optional Standalone)

**Owner:** PM or Anyone  
**Goal:** Check PRD quality before or after creation

**Usage:**
```
/verify US-027
```

**When to use:**
- After initial `/create` if skipped verification
- Before starting `/dev` to ensure readiness
- When revisiting old PRDs

**Verification Areas:**

| Area | What's Checked |
|------|----------------|
| **Fundamentals** | Problem statement, target users, success metrics, non-goals |
| **AC Quality** | Testable, specific, complete, no ambiguous language |
| **Edge Cases** | Empty states, error handling, boundary conditions |
| **Feasibility** | Dependencies, NFRs measurable, RULES.md alignment |
| **Completeness** | All sections filled, dev tasks derivable |

**Output:**
- Score (1-10)
- Gaps by priority (High/Medium/Low)
- Suggested fixes
- Option to auto-apply fixes

---

### Phase 3: /dev

**Owner:** Developer  
**Goal:** Working, tested code with PR ready

**Usage:**
```
/dev US-027
```

**Workflow:**

```
Kickoff â†’ [Task Loop: Code â†’ Test â†’ Verify AC] â†’ PR Prep â†’ Ready
```

#### Step 1: Kickoff

Agent loads context:
- PRD summary (Goal, AC, NFRs)
- Dev tasks list
- Project `RULES.md` (technical standards)
- Existing branch/progress (if resuming)

```
ðŸ”§ Kickoff: US-027

PRD: Add email notifications
AC: 7 criteria
Tasks: 6 planned

Branch: feature/US-027-email-notifications
Status: New (or Resuming from Task 3)

Ready to start? (yes/review PRD/check RULES.md)
```

#### Step 2: Iterative Development

For each task:
1. **Propose** - Show approach and files to change
2. **Implement** - Apply changes following RULES.md
3. **Test** - Run relevant tests
4. **Verify** - Check AC coverage
5. **Progress** - Update tracker and continue

```
ðŸ“Š Progress: 4/6 tasks complete (67%)

AC Coverage:
- AC1: âœ… Covered
- AC2: âœ… Covered
- AC3: ðŸ”„ In progress
- AC4-7: â³ Pending
```

**Resumability:** If interrupted, run `/dev US-027` again:
```
ðŸ“‚ Resuming US-027...
Tasks 1-3 complete. Continuing with Task 4.
```

#### Step 3: PR Preparation

When all tasks complete:
- Generate PR title and body
- AC checklist for reviewers
- List files changed
- Deployment notes

```bash
git push -u origin feature/US-027-email-notifications
gh pr create --title "US-027: Add email notifications" --body "..."
```

#### Step 4: Ready Checkpoint

```
âœ… US-027 Development Complete!

- Tasks: 6/6 âœ…
- Tests: 47 passing
- AC: 7/7 covered

PR: #123

ðŸš€ Ready for: /release US-027
```

**Exit Criteria:**
- All tasks complete
- Tests passing
- All AC covered
- PR created

---

### Phase 4: /release

**Owner:** PM/Team  
**Goal:** Code merged, deployed, documented

**Usage:**
```
/release US-027
```

**Workflow:**

```
Review PR â†’ Approve â†’ Merge â†’ Deploy â†’ Document â†’ Celebrate! ðŸš€
```

#### Step 1: Pre-Release Review

```
ðŸ“¦ Release Review: US-027

AC Verification:
- [ ] AC1: Email displays correctly
- [ ] AC2: Responsive on mobile
...

Test Status: âœ… All passing
CI/CD: âœ… Green
PR: #123 (2 approvals)

Blockers: None

Ready to merge? (approve/review AC/hold)
```

#### Step 2: Merge & Deploy

On `approve`:
```bash
gh pr merge 123 --squash --delete-branch
```

Monitor deployment:
```
ðŸš€ Deploying...
- Build: âœ… Complete
- Deploy: âœ… Production live

URL: https://your-app.example.com
```

#### Step 3: Documentation

Agent updates:
- **CHANGELOG.md** (dev repo) - New entry for this release
- **PRD** (product-docs) - QA Results section, status â†’ done
- **backlog.md** (product-docs) - Status â†’ done, PR â†’ merged

#### Step 4: Celebrate!

```
ðŸŽ‰ US-027 Released!

Timeline: Created â†’ Approved â†’ Dev â†’ Shipped
AC: 7/7 verified
PR: #123 merged

ðŸ“ Live at: https://your-app.example.com

What's next?
- /create "next feature" @backlog.md
```

---

## RULES.md - Technical Standards

Each project has a `RULES.md` defining technical standards:

```
{project}/RULES.md
```

**Purpose:**
- Ensures AI implements features consistently
- Documents tech stack, patterns, conventions
- Reduces "how should I implement this?" questions
- Speeds up `/dev` by providing clear guidance

**Contents:**
- Technology stack with versions
- Code organization (folders, naming)
- State management patterns
- Testing requirements
- Performance standards
- Security practices

**Referenced by:**
- `/create` - Ensures NFRs align with standards
- `/dev` - Agent follows patterns during implementation
- `/verify` - Checks PRD doesn't conflict with rules

---

## Complete Workflow Example

### PM creates the story:
```
> /create "Add email notifications" @{project-name}/backlog.md

Agent: Creating US-027... What problem does this solve?
PM: Users want summaries emailed instead of only viewing on web
Agent: Who will use this?
PM: All users, opt-in setting
Agent: [continues refinement...]

Agent: ðŸ“‹ Running verification...
       âœ… 10 checks passed, 1 medium-priority gap
       AC3 needs error handling. Apply fix? (apply/manual/skip)
PM: apply

Agent: âœ… Fixed. Extracting features...
       5 features identified (3 Must, 1 Should, 1 Could)
       6 dev tasks generated

Agent: Ready to approve PRD? (approve/refine)
PM: approve

Agent: âœ… US-027 approved! Ready for: /dev US-027
```

### Dev builds it:
```
> /dev US-027

Agent: Loading context...
       PRD: Add email notifications
       Tasks: 6 planned
       RULES.md: React 19, TypeScript, Vitest

       Branch: feature/US-027-email-notifications
       Ready? (yes/review)
Dev: yes

Agent: Task 1/6: Create email template component
       [proposes code...]
Dev: looks good

Agent: Implementing... Tests pass âœ…
       Progress: 1/6 tasks (17%)

[continues through all tasks...]

Agent: âœ… All tasks complete!
       Tests: 47 passing
       AC: 7/7 covered
       PR #123 created

       Ready for: /release US-027
```

### Team ships it:
```
> /release US-027

Agent: ðŸ“¦ Release Review
       AC: All verified âœ…
       Tests: Passing âœ…
       PR: #123 approved

       Ready to merge? (approve/hold)
PM: approve

Agent: Merging... Deploying...
       âœ… Production live!

       Updating CHANGELOG, PRD, backlog...

Agent: ðŸŽ‰ US-027 released!
       URL: https://your-app.example.com
```

---

## Workflow Variations

### Verify Existing PRD
```
/verify US-025
```
Runs verification on any PRD, shows gaps and fixes.

### Resume Development
```
/dev US-027
```
Automatically detects previous progress and continues.

### Quick Story (Skip Verification)
During `/create`, when verification shows:
```
PM: skip
```
PRD is marked `verified: skipped` and proceeds.

### Refine After Approval
```
/create US-027 --refine
```
Re-enters refinement mode for an existing PRD.

---

## Personas & Responsibilities

### Product Manager
- **Commands:** `/create`, `/verify`, `/release`
- **Responsibilities:**
  - Define problems and requirements
  - Approve verification results
  - Final release approval
- **Focus:** product-docs repo

### Developer
- **Commands:** `/dev`
- **Responsibilities:**
  - Implement following RULES.md
  - Write tests
  - Create PR
- **Focus:** dev repo (product-docs read-only)

### Team
- **Commands:** `/release`
- **Responsibilities:**
  - Final approval
  - Deployment verification
  - Documentation

---

## Definitions

**Definition of Ready (DoR):**
- PRD verified (or explicitly skipped)
- Features extracted with priorities
- Dev tasks identified (â‰¤8)
- Test strategy defined
- No open blockers
- PM approved

**Definition of Done (DoD):**
- All AC implemented and verified
- Tests pass (per RULES.md coverage)
- Code reviewed and PR approved
- Merged to main
- Deployed to production
- CHANGELOG updated
- PRD marked done with QA results
- Backlog updated

---

## Testing Strategy

Per RULES.md requirements:
- **Unit tests** â€” Logic and utilities
- **Integration tests** â€” API, services (mocked externals)
- **E2E tests** â€” Critical happy paths only
- **Manual tests** â€” AC verification checklist

Testing happens during `/dev` and is validated before PR.

---

## Tips & Best Practices

**For PMs:**
- Be specific in initial description (saves refinement)
- Don't skip verification for complex stories
- Use `/verify` before handoff to dev

**For Devs:**
- Read RULES.md before starting
- Ask questions early during kickoff
- Commit frequently, run tests after each task
- Use `pause` if you need to stop

**For Teams:**
- Branch naming: `feature/US-{ID}-slug`
- Commit messages: `US-{ID}: description`
- Update backlog promptly after release
- Celebrate wins! ðŸŽ‰

---

## Troubleshooting

**Q: Verification found gaps but I want to proceed**  
A: Say `skip` during verification. PRD is marked `verified: skipped`.

**Q: Need to pause during /dev**  
A: Say `pause` or just stop. Resume with `/dev US-{ID}`.

**Q: PRD needs changes after approval**  
A: Use `/create US-{ID} --refine` to update sections.

**Q: Tests keep failing**  
A: Agent will help debug. Use `debug` command. Can also `skip-test` with TODO.

**Q: Can I skip phases?**  
A: No. Each phase builds on previous. Move fast if requirements are simple.

---

## Industry Alignment

| Our Process | Maps To |
|-------------|---------|
| `/create` + `/verify` | **Dual-Track Agile** Discovery / **Shape Up** Shaping |
| `/dev` | **Dual-Track Agile** Delivery / **Shape Up** Building |
| `/release` | **Lean** Measure / **Shape Up** Shipping |

**Benefits:**
- Quality gates prevent ambiguous requirements
- Clear separation of concerns
- AI-native with slash commands
- Resumable and interruptible
- Full visibility via metadata

---

## Quick Reference

```bash
# Start new feature
/create "description" @project/backlog.md

# Verify PRD quality (optional)
/verify US-027

# Build the feature
/dev US-027

# Ship it
/release US-027
```

Four commands. Quality gates. Conversation-driven. Dashboard-ready.

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 2.0 | 2026-02-03 | Slash commands, verification, RULES.md, dashboard metadata |
| 1.0 | 2025-12-01 | Initial process (story:create, story:dev, story:release) |
